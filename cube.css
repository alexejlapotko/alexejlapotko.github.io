:root {
	/* 3D Cube Variables */
	--cube-perspective: 800px;
	--cube-size: 200px;
	--cubie-size: 100px;
	--transition-duration: 0.3s;
	
	/* Color Palette - Original Rubik's Cube Colors */
	--color-blue: blue;
	--color-green: green;
	--color-red: red;
	--color-orange: orange;
	--color-white: white;
	--color-yellow: yellow;
	--color-black: #000000;
	
	/* Button Styling */
	--button-bg: rgba(0, 0, 0, 0.3);
	--button-bg-hover: #3498db;
	--button-text: #ffffff;
	--button-radius: 10px;
	--button-size: 20px;
	--button-padding: 10px;
	
	/* Responsive Breakpoints */
	--mobile-breakpoint: 768px;
}

body {
	perspective: var(--cube-perspective);
	perspective-origin: center -100px;
}

#container {
	width: 100%;
	height: 350px;
}

#cube {
	margin: 100px auto 0;
	transform-style: preserve-3d;
	transform: rotateX(-15deg) rotateY(45deg);
}

@keyframes cube_rotate {
	100% {
		transform: rotateY(360deg);
	}
}

#cube {
	width: var(--cube-size);
	height: var(--cube-size);
}

#cube .cubie {
	width: var(--cubie-size);
	height: var(--cubie-size);
	margin: 50px 50px;
	position: absolute;
	transform-style: preserve-3d;
}

#cube .side {
	width: var(--cubie-size);
	height: var(--cubie-size);
	position: absolute;
	background: black;
	border-radius: 1px;
}

#cube .side>div {
	width: 90px;
	height: 90px;
	margin: 4px;
	
	border: 1px solid rgba(0, 0, 0, 0.1);
	border-radius: 10px;

	font-family: sans-serif;
	text-align: center;
	line-height: 100px;
}

/* rotating */

#cube #plane {
	transform-style: preserve-3d;
	transform-origin: 100px 100px;
}

#plane.moving {
	transition: all var(--transition-duration) ease-out;
}

#plane.moving.f, #plane.moving.z {
    transform: rotateZ(90deg);
}

#plane.moving.f-back, #plane.moving.z-back {
    transform: rotateZ(-90deg);
}

#plane.moving.l, #plane.moving.x {
	transform: rotateX(-90deg);
}

#plane.moving.l-back, #plane.moving.x-back {
	transform: rotateX(90deg);
}

#plane.moving.u, #plane.moving.y {
	transform: rotateY(-90deg);
}

#plane.moving.u-back, #plane.moving.y-back {
	transform: rotateY(90deg);
}

/* cubies positions */

#cube .cubie.flu {
	transform: translateZ(50px) translateX(-50px) translateY(-50px);
}

#cube .cubie.fld {
	transform: translateZ(50px) translateX(-50px) translateY(50px);
}

#cube .cubie.fru {
	transform: translateZ(50px) translateX(50px) translateY(-50px);
}

#cube .cubie.frd {
	transform: translateZ(50px) translateX(50px) translateY(50px);
}

#cube .cubie.blu {
	transform: translateZ(-50px) translateX(-50px) translateY(-50px);
}

#cube .cubie.bld {
	transform: translateZ(-50px) translateX(-50px) translateY(50px);
}

#cube .cubie.bru {
	transform: translateZ(-50px) translateX(50px) translateY(-50px);
}

#cube .cubie.brd {
	transform: translateZ(-50px) translateX(50px) translateY(50px);
}

/* sides positions */

#cube .side.f-plane {
	transform: translateZ(50px);
}

#cube .side.b-plane {
	transform: translateZ(-50px) rotateY(180deg);
}

#cube .side.l-plane {
	transform: translateX(-50px) rotateY(-90deg);
}

#cube .side.r-plane {
	transform: translateX(50px) rotateY(90deg);
}

#cube .side.u-plane {
	transform: translateY(-50px) rotateX(90deg);
}

#cube .side.d-plane {
	transform: translateY(50px) rotateX(-90deg);
}

/* sides colors */

#cube .side.f-color>div {
	background: var(--color-blue);
}
#cube .side.b-color>div {
	background: var(--color-green);
}
#cube .side.l-color>div {
	background: var(--color-red);
}
#cube .side.r-color>div {
	background: var(--color-orange);
}
#cube .side.u-color>div {
	background: var(--color-white);
}
#cube .side.d-color>div {
	background: var(--color-yellow);
}

/* buttons */

#but_cont, #but_cont_back {
	height: 40px;
	width: 100%;
	position: relative;

	display: block;
	text-align: center;

	margin: 5px 0;
}

.rotate_button {
	width: var(--button-size);
	height: var(--button-size);
	cursor: pointer;
	background: var(--button-bg);
	border-radius: var(--button-radius);
	font-family: system-ui, -apple-system, sans-serif;
	color: var(--button-text);
	font-size: 20px;
	text-align: center;
	user-select: none;
	padding: var(--button-padding);
	display: inline-block;
	margin: 0 5px;
	border: none;
	transition: background-color var(--transition-duration) ease;
}

.rotate_button:hover, .rotate_button:active {
	background: var(--button-bg-hover);
	transform: scale(1.05);
}

/* Modern CSS Features */

/* Container Queries Support (when available) */
@container (max-width: 400px) {
	#cube {
		width: calc(var(--cube-size) * 0.8);
		height: calc(var(--cube-size) * 0.8);
	}
}

/* Responsive Design */
@media (max-width: 768px) {
	:root {
		--cube-size: 150px;
		--cubie-size: 75px;
		--button-size: 16px;
		--button-padding: 8px;
	}
	
	body {
		perspective: calc(var(--cube-perspective) * 0.8);
	}
	
	#cube {
		margin: 50px auto 0;
	}
	
	.rotate_button {
		font-size: 16px;
		margin: 0 3px;
	}
}

@media (max-width: 480px) {
	:root {
		--cube-size: 120px;
		--cubie-size: 60px;
	}
	
	#but_cont, #but_cont_back {
		margin: 10px 0;
	}
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
	:root {
		--transition-duration: 0.01ms;
	}
	
	#plane.moving {
		transition: none;
	}
	
	.rotate_button {
		transition: none;
	}
	
	.rotate_button:hover {
		transform: none;
	}
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
	:root {
		--button-bg: #000000;
		--button-bg-hover: #ffffff;
		--button-text: #ffffff;
	}
	
	.rotate_button:hover {
		color: #000000;
	}
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
	body {
		background-color: #1a1a1a;
		color: #ffffff;
	}
}